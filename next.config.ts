import createNextIntlPlugin from "next-intl/plugin";
import type { NextConfig } from "next";

const withNextIntl = createNextIntlPlugin("./i18n/request.ts");

const nextConfig: NextConfig = {
  // ========================
  // ğŸŒ å›½é™…åŒ–é…ç½®ï¼ˆç”± next-intl è‡ªåŠ¨å¤„ç†ï¼‰
  // å·²é€šè¿‡ withNextIntl åŒ…è£…ï¼Œæ— éœ€é¢å¤–é…ç½®
  // ========================

  // ========================
  // ğŸ”„ å¼€å‘ç¯å¢ƒ API ä»£ç†ï¼ˆé‡è¦ï¼ï¼‰
  // ========================
  async rewrites() {
    return [
      {
        source: "/api/:path*",
        destination: "http://localhost:8080/:path*", // æ›¿æ¢ä¸ºä½ åç«¯åœ°å€
      },
    ];
  },


  // ========================
  // ğŸ” ç¯å¢ƒå˜é‡åŠ è½½ï¼ˆé»˜è®¤æ”¯æŒ .env.localï¼‰
  // ========================
  // Next.js é»˜è®¤ä¼šè‡ªåŠ¨åŠ è½½ .env.localï¼Œæ— éœ€é¢å¤–é…ç½®

  // ========================
  // âš™ï¸ è‡ªå®šä¹‰ Webpack é…ç½®ï¼ˆå¯é€‰ï¼‰
  // ========================


  // ========================
  // ğŸ›¡ï¸ å®‰å…¨å¤´éƒ¨ï¼ˆå¯é€‰ï¼Œæ¨èç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼‰
  // ========================


  // ========================
  // ğŸ“¦ è¾“å‡ºé…ç½®ï¼ˆå¦‚éœ€å¯¼å‡ºä¸ºé™æ€ç«™ç‚¹ï¼‰
  // ========================
  // output: 'export', // å¦‚æœè¦é™æ€å¯¼å‡ºï¼ˆå¦‚ GitHub Pagesï¼‰ï¼Œå–æ¶ˆæ³¨é‡Š
  // distDir: 'out', // é™æ€å¯¼å‡ºç›®å½•ï¼Œé»˜è®¤æ˜¯ .next

  // ========================
  // ğŸŒ è‡ªå®šä¹‰ basePathï¼ˆå¦‚æœä½ éƒ¨ç½²åœ¨å­è·¯å¾„ï¼Œå¦‚ /myappï¼‰
  // ========================
  // basePath: '/myapp',

  // ========================
  // ğŸ§© å…¶ä»–å¸¸ç”¨é€‰é¡¹
  // ========================
};

export default withNextIntl(nextConfig);